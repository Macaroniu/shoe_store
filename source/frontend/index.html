<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–û–û ¬´–û–±—É–≤—å¬ª - –ú–∞–≥–∞–∑–∏–Ω –æ–±—É–≤–∏</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="http://localhost:8000/static/images/logo.png">
</head>
<body>
    <div id="loginScreen" class="screen active">
        <div class="login-wrapper">
            <div class="login-background">
                <div class="login-shape shape-1"></div>
                <div class="login-shape shape-2"></div>
                <div class="login-shape shape-3"></div>
            </div>

            <div class="login-card">
                <div class="login-logo-container">
                    <img src="http://localhost:8000/static/images/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="login-logo" onerror="this.style.display='none'">
                </div>

                <div class="login-header">
                    <h1>–û–û–û ¬´–û–±—É–≤—å¬ª</h1>
                    <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è</p>
                </div>

                <form id="loginForm" class="login-form">
                    <div class="input-group">
                        <label for="username">–õ–æ–≥–∏–Ω</label>
                        <input type="text" id="username" name="username" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω" required>
                        <span class="input-border"></span>
                    </div>

                    <div class="input-group">
                        <label for="password">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="password" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                        <span class="input-border"></span>
                    </div>

                    <div class="error-message" id="loginError"></div>

                    <button type="submit" class="btn btn-primary btn-login">
                        <span>–í–æ–π—Ç–∏</span>
                    </button>

                    <button type="button" class="btn btn-ghost" onclick="enterAsGuest()">
                        <span>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å</span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <div id="productsScreen" class="screen">
        <div class="app-layout">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <img src="http://localhost:8000/static/images/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="sidebar-logo" onerror="this.style.display='none'">
                    <h2>–û–û–û ¬´–û–±—É–≤—å¬ª</h2>
                </div>

                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active" onclick="showProductsScreen()">
                        <span class="nav-icon">üõçÔ∏è</span>
                        <span class="nav-text">–¢–æ–≤–∞—Ä—ã</span>
                    </a>
                    <a href="#" class="nav-item" id="ordersNavItem" style="display: none;" onclick="showOrdersScreen()">
                        <span class="nav-icon">üì¶</span>
                        <span class="nav-text">–ó–∞–∫–∞–∑—ã</span>
                    </a>
                </nav>

                <div class="sidebar-footer">
                    <div class="user-profile">
                        <div class="user-avatar">üë§</div>
                        <div class="user-details">
                            <div class="user-name" id="sidebarUserName"></div>
                            <div class="user-role" id="sidebarUserRole"></div>
                        </div>
                    </div>
                    <button class="btn-logout" onclick="logout()">
                        <span>–í—ã—Ö–æ–¥</span>
                    </button>
                </div>
            </aside>

            <main class="main-content">
                <div class="content-header">
                    <div class="page-title">
                        <h1>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h1>
                        <p class="page-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–∞—Ä—É –æ–±—É–≤–∏</p>
                    </div>

                    <div id="adminHeaderActions" class="header-actions" style="display: none;">
                        <button class="btn btn-accent btn-icon" onclick="showAddProductModal()">
                            <span>‚ûï</span>
                            <span>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</span>
                        </button>
                    </div>
                </div>

                <div id="controlPanel" class="filters-panel" style="display: none;">
                    <div class="filters-container">
                        <div class="filter-item search-filter">
                            <label>üîç –ü–æ–∏—Å–∫</label>
                            <input type="text" id="searchInput" placeholder="–ê—Ä—Ç–∏–∫—É–ª, –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ..." oninput="applyFilters()">
                        </div>

                        <div class="filter-item">
                            <label>üè¢ –ü–æ—Å—Ç–∞–≤—â–∏–∫</label>
                            <select id="supplierFilter" onchange="applyFilters()">
                                <option value="">–í—Å–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏</option>
                            </select>
                        </div>

                        <div class="filter-item">
                            <label>üìä –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
                            <select id="sortQuantity" onchange="applyFilters()">
                                <option value="">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                                <option value="asc">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚Üë</option>
                                <option value="desc">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚Üì</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="products-container">
                    <div class="products-grid" id="productsGrid">
                        <div class="loading-state">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <div id="ordersScreen" class="screen">
        <div class="app-layout">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <img src="http://localhost:8000/static/images/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="sidebar-logo" onerror="this.style.display='none'">
                    <h2>–û–û–û ¬´–û–±—É–≤—å¬ª</h2>
                </div>

                <nav class="sidebar-nav">
                    <a href="#" class="nav-item" onclick="showProductsScreen()">
                        <span class="nav-icon">üõçÔ∏è</span>
                        <span class="nav-text">–¢–æ–≤–∞—Ä—ã</span>
                    </a>
                    <a href="#" class="nav-item active" onclick="showOrdersScreen()">
                        <span class="nav-icon">üì¶</span>
                        <span class="nav-text">–ó–∞–∫–∞–∑—ã</span>
                    </a>
                </nav>

                <div class="sidebar-footer">
                    <div class="user-profile">
                        <div class="user-avatar">üë§</div>
                        <div class="user-details">
                            <div class="user-name" id="sidebarUserNameOrders"></div>
                            <div class="user-role" id="sidebarUserRoleOrders"></div>
                        </div>
                    </div>
                    <button class="btn-logout" onclick="logout()">
                        <span>–í—ã—Ö–æ–¥</span>
                    </button>
                </div>
            </aside>

            <main class="main-content">
                <div class="content-header">
                    <div class="page-title">
                        <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h1>
                        <p class="page-subtitle">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤</p>
                    </div>

                    <div id="ordersAdminActions" class="header-actions" style="display: none;">
                        <button class="btn btn-accent btn-icon" onclick="showAddOrderModal()">
                            <span>‚ûï</span>
                            <span>–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</span>
                        </button>
                    </div>
                </div>

                <div class="orders-container">
                    <div class="orders-list" id="ordersList">
                        <div class="loading-state">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤...</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <div id="productModal" class="modal">
        <div class="modal-overlay" onclick="closeProductModal()"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="productModalTitle">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
                <button class="modal-close" onclick="closeProductModal()">&times;</button>
            </div>

            <form id="productForm" class="modal-form">
                <input type="hidden" id="productArticle">

                <div class="form-grid">
                    <div class="form-group">
                        <label>–ê—Ä—Ç–∏–∫—É–ª *</label>
                        <input type="text" id="article" required>
                    </div>

                    <div class="form-group">
                        <label>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="name" required>
                    </div>

                    <div class="form-group">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="category" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                            <option value="–ñ–µ–Ω—Å–∫–∞—è –æ–±—É–≤—å">–ñ–µ–Ω—Å–∫–∞—è –æ–±—É–≤—å</option>
                            <option value="–ú—É–∂—Å–∫–∞—è –æ–±—É–≤—å">–ú—É–∂—Å–∫–∞—è –æ–±—É–≤—å</option>
                            <option value="–î–µ—Ç—Å–∫–∞—è –æ–±—É–≤—å">–î–µ—Ç—Å–∫–∞—è –æ–±—É–≤—å</option>
                            <option value="–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –æ–±—É–≤—å">–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –æ–±—É–≤—å</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å *</label>
                        <input type="text" id="manufacturer" required>
                    </div>

                    <div class="form-group">
                        <label>–ü–æ—Å—Ç–∞–≤—â–∏–∫ *</label>
                        <input type="text" id="supplier" required>
                    </div>

                    <div class="form-group">
                        <label>–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è *</label>
                        <input type="text" id="unit" value="—à—Ç." required>
                    </div>

                    <div class="form-group">
                        <label>–¶–µ–Ω–∞ (‚ÇΩ) *</label>
                        <input type="number" id="price" min="0" step="0.01" required>
                    </div>

                    <div class="form-group">
                        <label>–°–∫–∏–¥–∫–∞ (%)</label>
                        <input type="number" id="discount" min="0" max="100" value="0">
                    </div>

                    <div class="form-group">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ *</label>
                        <input type="number" id="quantity" min="0" required>
                    </div>

                    <div class="form-group">
                        <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                        <input type="file" id="photo" accept="image/*">
                    </div>

                    <div class="form-group form-group-full">
                        <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="description" rows="3" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞..."></textarea>
                    </div>
                </div>

                <div class="error-message" id="productError"></div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeProductModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-accent">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <div id="orderModal" class="modal">
        <div class="modal-overlay" onclick="closeOrderModal()"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="orderModalTitle">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</h2>
                <button class="modal-close" onclick="closeOrderModal()">&times;</button>
            </div>

            <form id="orderForm" class="modal-form">
                <input type="hidden" id="orderId">

                <div class="form-grid">
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ *</label>
                        <input type="date" id="orderDate" required>
                    </div>

                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ *</label>
                        <input type="date" id="deliveryDate" required>
                    </div>

                    <div class="form-group">
                        <label>–§–ò–û –∫–ª–∏–µ–Ω—Ç–∞ *</label>
                        <input type="text" id="clientName" required>
                    </div>

                    <div class="form-group">
                        <label>–ö–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è *</label>
                        <input type="number" id="code" min="100" max="9999" required>
                    </div>

                    <div class="form-group">
                        <label>–ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ *</label>
                        <select id="pickupPoint" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–°—Ç–∞—Ç—É—Å *</label>
                        <select id="status" required>
                            <option value="–ù–æ–≤—ã–π">–ù–æ–≤—ã–π</option>
                            <option value="–ó–∞–≤–µ—Ä—à–µ–Ω">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                        </select>
                    </div>

                    <div class="form-group form-group-full">
                        <label>–¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ</label>
                        <div id="orderProducts" class="order-products-list">
                            <button type="button" class="btn btn-ghost btn-sm" onclick="addProductToOrder()">
                                + –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
                            </button>
                        </div>
                    </div>
                </div>

                <div class="error-message" id="orderError"></div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeOrderModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-accent">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>